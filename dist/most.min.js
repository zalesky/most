!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.most=e():t.most=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r=n(1),i=n(2),o=n(3),s=n(10).from,u=n(19).periodic,c=n(15)["default"];e.Stream=r,e.of=r.of=o.of,e.just=o.of,e.empty=r.empty=o.empty,e.never=o.never,e.from=s,e.periodic=u;var h=n(20).subscribe;r.prototype.subscribe=function(t){return h(t,this)},r.prototype[c]=function(){return this};var p=n(27).thru;r.prototype.thru=function(t){return p(t,this)};var a=n(28);e.fromEvent=a.fromEvent;var f=n(33);e.observe=f.observe,e.forEach=f.observe,e.drain=f.drain,r.prototype.observe=r.prototype.forEach=function(t){return f.observe(t,this)},r.prototype.drain=function(){return f.drain(this)};var l=n(40).loop;e.loop=l,r.prototype.loop=function(t,e){return l(t,e,this)};var v=n(41);e.scan=v.scan,e.reduce=v.reduce,r.prototype.scan=function(t,e){return v.scan(t,e,this)},r.prototype.reduce=function(t,e){return v.reduce(t,e,this)};var d=n(42),y=n(43),m=n(44),k=n(45);e.unfold=d.unfold,e.iterate=y.iterate,e.generate=m.generate,e.concat=k.concat,e.startWith=k.cons,r.prototype.concat=function(t){return k.concat(this,t)},r.prototype.startWith=function(t){return k.cons(t,this)};var w=n(35),b=n(47);e.map=w.map,e.constant=w.constant,e.tap=w.tap,e.ap=b.ap,r.prototype.map=function(t){return w.map(t,this)},r.prototype.ap=function(t){return b.ap(this,t)},r.prototype.constant=function(t){return w.constant(t,this)},r.prototype.tap=function(t){return w.tap(t,this)};var _=n(51);e.transduce=_.transduce,r.prototype.transduce=function(t){return _.transduce(t,this)};var g=n(52);e.flatMap=e.chain=g.flatMap,e.join=g.join,r.prototype.flatMap=r.prototype.chain=function(t){return g.flatMap(t,this)},r.prototype.join=function(){return g.join(this)};var x=n(46).continueWith;e.continueWith=x,e.flatMapEnd=x,r.prototype.continueWith=r.prototype.flatMapEnd=function(t){return x(t,this)};var E=n(55).concatMap;e.concatMap=E,r.prototype.concatMap=function(t){return E(t,this)};var A=n(53);e.mergeConcurrently=A.mergeConcurrently,r.prototype.mergeConcurrently=function(t){return A.mergeConcurrently(t,this)};var M=n(56);e.merge=M.merge,e.mergeArray=M.mergeArray,r.prototype.merge=function(){return M.mergeArray(i.cons(this,arguments))};var P=n(48);e.combine=P.combine,e.combineArray=P.combineArray,r.prototype.combine=function(t){return P.combineArray(t,i.replace(this,0,arguments))};var W=n(57);e.sample=W.sample,e.sampleWith=W.sampleWith,r.prototype.sampleWith=function(t){return W.sampleWith(t,this)},r.prototype.sample=function(t){return W.sampleArray(t,this,i.tail(arguments))};var T=n(58);e.zip=T.zip,r.prototype.zip=function(t){return T.zipArray(t,i.replace(this,0,arguments))};var I=n(60)["switch"];e["switch"]=I,e.switchLatest=I,r.prototype["switch"]=r.prototype.switchLatest=function(){return I(this)};var R=n(61);e.filter=R.filter,e.skipRepeats=e.distinct=R.skipRepeats,e.skipRepeatsWith=e.distinctBy=R.skipRepeatsWith,r.prototype.filter=function(t){return R.filter(t,this)},r.prototype.skipRepeats=function(){return R.skipRepeats(this)},r.prototype.skipRepeatsWith=function(t){return R.skipRepeatsWith(t,this)};var S=n(62);e.take=S.take,e.skip=S.skip,e.slice=S.slice,e.takeWhile=S.takeWhile,e.skipWhile=S.skipWhile,r.prototype.take=function(t){return S.take(t,this)},r.prototype.skip=function(t){return S.skip(t,this)},r.prototype.slice=function(t,e){return S.slice(t,e,this)},r.prototype.takeWhile=function(t){return S.takeWhile(t,this)},r.prototype.skipWhile=function(t){return S.skipWhile(t,this)};var C=n(63);e.until=e.takeUntil=C.takeUntil,e.since=e.skipUntil=C.skipUntil,e.during=C.during,r.prototype.until=r.prototype.takeUntil=function(t){return C.takeUntil(t,this)},r.prototype.since=r.prototype.skipUntil=function(t){return C.skipUntil(t,this)},r.prototype.during=function(t){return C.during(t,this)};var j=n(64).delay;e.delay=j,r.prototype.delay=function(t){return j(t,this)};var D=n(65).timestamp;e.timestamp=D,r.prototype.timestamp=function(){return D(this)};var L=n(66);e.throttle=L.throttle,e.debounce=L.debounce,r.prototype.throttle=function(t){return L.throttle(t,this)},r.prototype.debounce=function(t){return L.debounce(t,this)};var N=n(67);e.fromPromise=N.fromPromise,e.await=N.awaitPromises,r.prototype.await=function(){return N.awaitPromises(this)};var q=n(68);e.recoverWith=q.flatMapError,e.flatMapError=q.flatMapError,e.throwError=q.throwError,r.prototype.recoverWith=r.prototype.flatMapError=function(t){return q.flatMapError(t,this)};var B=n(70)["default"];e.multicast=B,r.prototype.multicast=function(){return B(this)}},function(t,e){function n(t){this.source=t}t.exports=n},function(t,e,n){var r,i,o;!function(n,s){i=[e],r=s,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o))}(this,function(t){"use strict";function e(t,e){var n=e.length,r=new Array(n+1);r[0]=t;for(var i=0;n>i;++i)r[i+1]=e[i];return r}function n(t,e){for(var n=e.length,r=new Array(n+1),i=0;n>i;++i)r[i]=e[i];return r[n]=t,r}function r(t,e){if(0>t)throw new TypeError("n must be >= 0");var n=e.length;return 0===t||0===n?e:t>=n?[]:i(t,e,n-t)}function i(t,e,n){for(var r=new Array(n),i=0;n>i;++i)r[i]=e[t+i];return r}function o(t){return r(1,t)}function s(t){for(var e=t.length,n=new Array(e),r=0;e>r;++r)n[r]=t[r];return n}function u(t,e){for(var n=e.length,r=new Array(n),i=0;n>i;++i)r[i]=t(e[i]);return r}function c(t,e,n){for(var r=e,i=0,o=n.length;o>i;++i)r=t(r,n[i],i);return r}function h(t,e,n){if(0>e)throw new TypeError("i must be >= 0");for(var r=n.length,i=new Array(r),o=0;r>o;++o)i[o]=e===o?t:n[o];return i}function p(t,e){if(0>t)throw new TypeError("i must be >= 0");var n=e.length;return 0===n||t>=n?e:1===n?[]:a(t,e,n-1)}function a(t,e,n){var r=new Array(n),i=void 0;for(i=0;t>i;++i)r[i]=e[i];for(i=t;n>i;++i)r[i]=e[i+1];return r}function f(t,e){for(var n,r=e.length,i=new Array(r),o=0,s=0;r>s;++s)n=e[s],t(n)||(i[o]=n,++o);return i.length=o,i}function l(t,e){for(var n=0,r=e.length;r>n;++n)if(t===e[n])return n;return-1}function v(t){return null!=t&&"number"==typeof t.length&&"function"!=typeof t}function d(t){function e(n,r){switch(arguments.length){case 0:return e;case 1:return function(e){return t(n,e)};default:return t(n,r)}}return e}function y(t){function e(n,r,i){switch(arguments.length){case 0:return e;case 1:return d(function(e,r){return t(n,e,r)});case 2:return function(e){return t(n,r,e)};default:return t(n,r,i)}}return e}Object.defineProperty(t,"__esModule",{value:!0});var m=function(t){return t},k=function(t,e){return function(n){return t(e(n))}},w=function(t,e){return t(e)};t.cons=e,t.append=n,t.drop=r,t.tail=o,t.copy=s,t.map=u,t.reduce=c,t.replace=h,t.remove=p,t.removeAll=f,t.findIndex=l,t.isArrayLike=v,t.id=m,t.compose=k,t.apply=w,t.curry2=d,t.curry3=y})},function(t,e,n){function r(t){return new a(new i(t))}function i(t){this.value=t}function o(t,e,n){n.event(t,e),n.end(t,void 0)}function s(){return v}function u(){}function c(t){return t.dispose()}function h(){return d}function p(){}var a=n(1),f=n(4),l=n(8);e.of=r,e.empty=s,e.never=h,i.prototype.run=function(t,e){return e.asap(new l(o,this.value,t))},u.prototype.run=function(t,e){var n=l.end(void 0,t);return e.asap(n),f.create(c,n)};var v=new a(new u);p.prototype.run=function(){return f.empty()};var d=new a(new p)},function(t,e,n){function r(t,e,n){var r=c(e);return k(r)?r["catch"](function(e){n.error(t,e)}):r}function i(t,e){return l(new y(t,e))}function o(){return new y(_,void 0)}function s(t){return i(u,t)}function u(t){return Promise.all(b(c,t))}function c(t){try{return t.dispose()}catch(e){return Promise.reject(e)}}function h(t){return i(p,t)}function p(t){return t.then(a)}function a(t){return t.dispose()}function f(){return new m}function l(t){return new y(v,d(t))}function v(t){return t.disposed||(t.disposed=!0,t.value=c(t.disposable),t.disposable=void 0),t.value}function d(t){return{disposed:!1,disposable:t,value:void 0}}var y=n(5),m=n(6),k=n(7).isPromise,w=n(2),b=w.map,_=w.id;e.tryDispose=r,e.create=i,e.once=l,e.empty=o,e.all=s,e.settable=f,e.promised=h},function(t,e){function n(t,e){this._dispose=t,this._data=e}t.exports=n,n.prototype.dispose=function(){return this._dispose(this._data)}},function(t,e){function n(){this.disposable=void 0,this.disposed=!1,this._resolve=void 0;var t=this;this.result=new Promise(function(e){t._resolve=e})}t.exports=n,n.prototype.setDisposable=function(t){if(void 0!==this.disposable)throw new Error("setDisposable called more than once");this.disposable=t,this.disposed&&this._resolve(t.dispose())},n.prototype.dispose=function(){return this.disposed?this.result:(this.disposed=!0,void 0!==this.disposable&&(this.result=this.disposable.dispose()),this.result)}},function(t,e){function n(t){return null!==t&&"object"==typeof t&&"function"==typeof t.then}e.isPromise=n},function(t,e,n){function r(t,e,n){this._run=t,this.value=e,this.sink=n,this.active=!0}function i(t,e,n){n.error(t,e)}function o(t,e,n){n.event(t,e)}function s(t,e,n){n.end(t,e)}var u=n(9);t.exports=r,r.event=function(t,e){return new r(o,t,e)},r.end=function(t,e){return new r(s,t,e)},r.error=function(t,e){return new r(i,t,e)},r.prototype.dispose=function(){this.active=!1},r.prototype.run=function(t){this.active&&this._run(t,this.value,this.sink)},r.prototype.error=function(t,e){return this.active?void this.sink.error(t,e):u(e)}},function(t,e){function n(t){setTimeout(function(){throw t},0)}t.exports=n},function(t,e,n){function r(t){if(t instanceof i)return t;var e=c(t);if(null!=e)return h(e);if(Array.isArray(t)||p(t))return o(t);if(s(t))return u(t);throw new TypeError("from(x) must be observable, iterable, or array-like: "+t)}var i=n(1),o=n(11).fromArray,s=n(12).isIterable,u=n(13).fromIterable,c=n(14),h=n(18).fromObservable,p=n(2).isArrayLike;e.from=r},function(t,e,n){function r(t){return new s(new i(t))}function i(t){this.array=t}function o(t,e,n){function r(t){n.end(t)}for(var i=0,o=e.length;o>i&&this.active;++i)n.event(t,e[i]);this.active&&r(t)}var s=n(1),u=n(8);e.fromArray=r,i.prototype.run=function(t,e){return e.asap(new u(o,this.array,t))}},function(t,e){function n(t){return"function"==typeof t[o]}function r(t){return t[o]()}function i(t,e){return e[o]=t,e}e.isIterable=n,e.getIterator=r,e.makeIterable=i;var o;o="function"==typeof Set&&"function"==typeof(new Set)["@@iterator"]?"@@iterator":"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_"},function(t,e,n){function r(t){return new u(new i(t))}function i(t){this.iterable=t}function o(t,e,n){this.scheduler=n,this.iterator=t,this.task=new h(s,this,e),n.asap(this.task)}function s(t,e,n){var r=e.iterator.next();r.done?n.end(t,r.value):n.event(t,r.value),e.scheduler.asap(e.task)}var u=n(1),c=n(12).getIterator,h=n(8);e.fromIterable=r,i.prototype.run=function(t,e){return new o(c(this.iterable),t,e)},o.prototype.dispose=function(){return this.task.dispose()}},function(t,e,n){function r(t){var e=null;if(t){var n=t[i];if("function"==typeof n&&(e=n.call(t),!e||"function"!=typeof e.subscribe))throw new TypeError("invalid observable "+e)}return e}var i=n(15)["default"];t.exports=r},function(t,e,n){t.exports=n(16)},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),o=r(i),s=void 0;"undefined"!=typeof t?s=t:"undefined"!=typeof window&&(s=window);var u=(0,o["default"])(s);e["default"]=u}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){function r(t){return new u(new i(t))}function i(t){this.observable=t}function o(t,e){this.sink=t,this.scheduler=e}function s(t){return t.unsubscribe()}var u=n(1),c=n(4);e.fromObservable=r,e.ObservableSource=i,e.SubscriberSink=o,i.prototype.run=function(t,e){var n=this.observable.subscribe(new o(t,e));if("function"==typeof n)return c.create(n);if(n&&"function"==typeof n.unsubscribe)return c.create(s,n);throw new TypeError("Observable returned invalid subscription "+String(n))},o.prototype.next=function(t){this.sink.event(this.scheduler.now(),t)},o.prototype.complete=function(t){this.sink.end(this.scheduler.now(),t)},o.prototype.error=function(t){this.sink.error(this.scheduler.now(),t)}},function(t,e,n){function r(t,e){return new o(new i(t,e))}function i(t,e){this.period=t,this.value=e}var o=n(1),s=(n(4),n(8));e.periodic=r,i.prototype.run=function(t,e){return e.periodic(this.period,s.event(this.value,t))}},function(t,e,n){function r(t,e){if(null==t||"object"!=typeof t)throw new TypeError("subscriber must be an object");var n=c.settable(),r=new i(h,t,n);return n.setDisposable(e.source.run(r,u)),new o(n)}function i(t,e,n){this.fatalError=t,this.subscriber=e,this.disposable=n}function o(t){this.disposable=t}function s(t,e,n,r,i,o){Promise.resolve(i.dispose()).then(function(){"function"==typeof n&&n.call(e,o)})["catch"](function(t){"function"==typeof r&&r.call(e,t)})["catch"](t)}var u=n(21),c=n(4),h=n(9);e.subscribe=r,e.SubscribeObserver=i,e.Subscription=o,i.prototype.event=function(t,e){"function"==typeof this.subscriber.next&&this.subscriber.next(e)},i.prototype.end=function(t,e){var n=this.subscriber;s(this.fatalError,n,n.complete,n.error,this.disposable,e)},i.prototype.error=function(t,e){var n=this.subscriber;s(this.fatalError,n,n.error,n.error,this.disposable,e)},o.prototype.unsubscribe=function(){this.disposable.dispose()}},function(t,e,n){var r=n(22),i=n(26),o=n(25);t.exports=new r(new i,new o)},function(t,e,n){function r(t,e){this.timer=t,this.timeline=e,this._timer=null,this._nextArrival=1/0;var n=this;this._runReadyTasksBound=function(){n._runReadyTasks(n.now())}}var i=(n(2),n(23)),o=n(24).runTask;n(25);t.exports=r,r.prototype.now=function(){return this.timer.now()},r.prototype.asap=function(t){return this.schedule(0,-1,t)},r.prototype.delay=function(t,e){return this.schedule(t,-1,e)},r.prototype.periodic=function(t,e){return this.schedule(0,t,e)},r.prototype.schedule=function(t,e,n){var r=this.now(),o=new i(r+Math.max(0,t),e,n,this);return this.timeline.add(o),this._scheduleNextRun(r),o},r.prototype.cancel=function(t){t.active=!1,this.timeline.remove(t)&&this._reschedule()},r.prototype.cancelAll=function(t){this.timeline.removeAll(t),this._reschedule()},r.prototype._reschedule=function(){this.timeline.isEmpty()?this._unschedule():this._scheduleNextRun(this.now())},r.prototype._unschedule=function(){this.timer.clearTimer(this._timer),this._timer=null},r.prototype._scheduleNextRun=function(t){if(!this.timeline.isEmpty()){var e=this.timeline.nextArrival();null===this._timer?this._scheduleNextArrival(e,t):e<this._nextArrival&&(this._unschedule(),this._scheduleNextArrival(e,t))}},r.prototype._scheduleNextArrival=function(t,e){this._nextArrival=t;var n=Math.max(0,t-e);this._timer=this.timer.setTimer(this._runReadyTasksBound,n)},r.prototype._runReadyTasks=function(t){this._timer=null,this.timeline.runTasks(t,o),this._scheduleNextRun(this.now())}},function(t,e){function n(t,e,n,r){this.time=t,this.period=e,this.task=n,this.scheduler=r,this.active=!0}t.exports=n,n.prototype.run=function(){return this.task.run(this.time)},n.prototype.error=function(t){return this.task.error(this.time,t)},n.prototype.dispose=function(){return this.scheduler.cancel(this),this.task.dispose()}},function(t,e){function n(t){return Promise.resolve(t).then(r)}function r(t){try{return t.run()}catch(e){return t.error(e)}}e.defer=n,e.runTask=r},function(t,e,n){function r(){this.tasks=[]}function i(t,e,n){for(var r=e.events,i=0;i<r.length;++i){var s=r[i];s.active&&(t(s),s.period>=0&&s.active&&(s.time=s.time+s.period,o(s,n)))}return n}function o(t,e){var n=e.length;if(0===n)return void e.push(c(t.time,[t]));var r=u(t.time,e);r>=n?e.push(c(t.time,[t])):t.time===e[r].time?e[r].events.push(t):e.splice(r,0,c(t.time,[t]))}function s(t,e){e.events=h.removeAll(t,e.events)}function u(t,e){for(var n,r,i=0,o=e.length;o>i;){if(n=Math.floor((i+o)/2),r=e[n],t===r.time)return n;t<r.time?o=n:i=n+1}return o}function c(t,e){return{time:t,events:e}}var h=n(2);t.exports=r,r.prototype.nextArrival=function(){return this.isEmpty()?1/0:this.tasks[0].time},r.prototype.isEmpty=function(){return 0===this.tasks.length},r.prototype.add=function(t){o(t,this.tasks)},r.prototype.remove=function(t){var e=u(t.time,this.tasks);if(e>=0&&e<this.tasks.length){var n=h.findIndex(t,this.tasks[e].events);if(n>=0)return this.tasks[e].events.splice(n,1),!0}return!1},r.prototype.removeAll=function(t){for(var e=0,n=this.tasks.length;n>e;++e)s(t,this.tasks[e])},r.prototype.runTasks=function(t,e){for(var n=this.tasks,r=n.length,o=0;r>o&&n[o].time<=t;)++o;this.tasks=n.slice(o);for(var s=0;o>s;++s)this.tasks=i(e,n[s],this.tasks)}},function(t,e,n){function r(){}function i(t){this.f=t,this.active=!0}function o(t){var e=new i(t);return s(e),e}var s=n(24).defer;t.exports=r,r.prototype.now=Date.now,r.prototype.setTimer=function(t,e){return 0>=e?o(t):setTimeout(t,e)},r.prototype.clearTimer=function(t){return t instanceof i?t.cancel():clearTimeout(t)},i.prototype.run=function(){return this.active&&this.f()},i.prototype.error=function(t){throw t},i.prototype.cancel=function(){this.active=!1}},function(t,e){e.thru=function(t,e){return t(e)}},function(t,e,n){function r(t,e,n){var r;if("function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener)arguments.length<3&&(n=!1),r=new o(t,e,n);else{if("function"!=typeof e.addListener||"function"!=typeof e.removeListener)throw new Error("source must support addEventListener/removeEventListener or addListener/removeListener");r=new s(t,e)}return new i(r)}var i=n(1),o=n(29),s=n(31);e.fromEvent=r},function(t,e,n){function r(t,e,n){this.event=t,this.source=e,this.capture=n}function i(t){var e=t.target;e.source.removeEventListener(e.event,t.addEvent,e.capture)}var o=n(4),s=n(30);t.exports=r,r.prototype.run=function(t,e){function n(n){s.tryEvent(e.now(),n,t)}return this.source.addEventListener(this.event,n,this.capture),o.create(i,{target:this,addEvent:n})}},function(t,e){function n(t,e,n){try{n.event(t,e)}catch(r){n.error(t,r)}}function r(t,e,n){try{n.end(t,e)}catch(r){n.error(t,r)}}e.tryEvent=n,e.tryEnd=r},function(t,e,n){function r(t,e){this.event=t,this.source=e}function i(t){var e=t.target;e.source.removeListener(e.event,t.addEvent)}var o=n(32),s=n(4),u=n(30);t.exports=r,r.prototype.run=function(t,e){function n(t){var n=arguments.length;if(n>1){for(var i=new Array(n),o=0;n>o;++o)i[o]=arguments[o];u.tryEvent(e.now(),i,r)}else u.tryEvent(e.now(),t,r)}var r=new o(t);return this.source.addListener(this.event,n),s.create(i,{target:this,addEvent:n})}},function(t,e,n){function r(t){this.sink=t,this.events=[],this.active=!0}function i(t,e,n){this.sink=t,this.events=n,this.time=e}function o(t,e,n){this.time=t,this.value=e,this.sink=n}function s(t,e,n){this.time=t,this.value=e,this.sink=n}var u=n(24).defer;t.exports=r,r.prototype.event=function(t,e){this.active&&(0===this.events.length&&u(new i(this.sink,t,this.events)),this.events.push({time:t,value:e}))},r.prototype.end=function(t,e){this.active&&this._end(new o(t,e,this.sink))},r.prototype.error=function(t,e){this._end(new s(t,e,this.sink))},r.prototype._end=function(t){this.active=!1,u(t)},i.prototype.run=function(){for(var t,e=this.events,n=this.sink,r=0,i=e.length;i>r;++r)t=e[r],this.time=t.time,n.event(t.time,t.value);e.length=0},i.prototype.error=function(t){this.sink.error(this.time,t)},o.prototype.run=function(){this.sink.end(this.time,this.value)},o.prototype.error=function(t){this.sink.error(this.time,t)},s.prototype.run=function(){this.sink.error(this.time,this.value)},s.prototype.error=function(t){throw t}},function(t,e,n){function r(t,e){return i(s(t,e))}function i(t){return o(t.source)}var o=n(34).withDefaultScheduler,s=n(35).tap;e.observe=r,e.drain=i;n(21),n(4)},function(t,e,n){function r(t){return i(t,h)}function i(t,e){return new Promise(function(n,r){o(t,e,n,r)})}function o(t,e,n,r){var i=c.settable(),o=new s(n,r,i);i.setDisposable(t.run(o,e))}function s(t,e,n){this._end=t,this._error=e,this._disposable=n,this.active=!0}function u(t,e,n,r){Promise.resolve(n.dispose()).then(function(){t(r)},e)}var c=n(4),h=n(21);e.withDefaultScheduler=r,e.withScheduler=i,s.prototype.event=function(t,e){},s.prototype.end=function(t,e){this.active&&(this.active=!1,u(this._end,this._error,this._disposable,e))},s.prototype.error=function(t,e){this.active=!1,u(this._error,this._error,this._disposable,e)}},function(t,e,n){function r(t,e){return new c(h.create(t,e.source))}function i(t,e){return r(function(){return t},e)}function o(t,e){return new c(new s(t,e.source))}function s(t,e){this.source=e,this.f=t}function u(t,e){this.sink=e,this.f=t}var c=n(1),h=n(36),p=n(37);e.map=r,e.constant=i,e.tap=o,s.prototype.run=function(t,e){return this.source.run(new u(this.f,t),e)},u.prototype.end=p.prototype.end,u.prototype.error=p.prototype.error,u.prototype.event=function(t,e){var n=this.f;n(e),this.sink.event(t,e)}},function(t,e,n){function r(t,e){this.f=t,this.source=e}function i(t,e){this.f=t,this.sink=e}var o=n(37),s=n(38),u=n(39),c=n(2);t.exports=r,r.create=function(t,e){return e instanceof r?new r(c.compose(t,e.f),e.source):e instanceof s?new u(e.p,t,e.source):new r(t,e)},r.prototype.run=function(t,e){return this.source.run(new i(this.f,t),e)},i.prototype.end=o.prototype.end,i.prototype.error=o.prototype.error,i.prototype.event=function(t,e){var n=this.f;this.sink.event(t,n(e))}},function(t,e){function n(t){this.sink=t}t.exports=n,n.prototype.event=function(t,e){return this.sink.event(t,e)},n.prototype.end=function(t,e){return this.sink.end(t,e)},n.prototype.error=function(t,e){return this.sink.error(t,e)}},function(t,e,n){function r(t,e){this.p=t,this.source=e}function i(t,e){this.p=t,this.sink=e}function o(t,e){return function(n){return t(n)&&e(n)}}var s=n(37);t.exports=r,r.create=function(t,e){return e instanceof r?new r(o(e.p,t),e.source):new r(t,e)},r.prototype.run=function(t,e){return this.source.run(new i(this.p,t),e)},i.prototype.end=s.prototype.end,i.prototype.error=s.prototype.error,i.prototype.event=function(t,e){var n=this.p;n(e)&&this.sink.event(t,e)}},function(t,e,n){function r(t,e,n){this.p=t,this.f=e,this.source=n}function i(t,e,n){this.p=t,this.f=e,this.sink=n}var o=n(37);t.exports=r,r.prototype.run=function(t,e){return this.source.run(new i(this.p,this.f,t),e)},i.prototype.event=function(t,e){var n=this.f,r=this.p;r(e)&&this.sink.event(t,n(e))},i.prototype.end=o.prototype.end,i.prototype.error=o.prototype.error},function(t,e,n){function r(t,e,n){return new s(new i(t,e,n.source))}function i(t,e,n){this.step=t,this.seed=e,this.source=n}function o(t,e,n){this.step=t,this.seed=e,this.sink=n}var s=n(1),u=n(37);e.loop=r,i.prototype.run=function(t,e){return this.source.run(new o(this.step,this.seed,t),e)},o.prototype.error=u.prototype.error,o.prototype.event=function(t,e){var n=this.step(this.seed,e);this.seed=n.seed,this.sink.event(t,n.value)},o.prototype.end=function(t){this.sink.end(t,this.seed)}},function(t,e,n){function r(t,e,n){return new h(new i(t,e,n.source))}function i(t,e,n){this.source=n,this.f=t,this.value=e}function o(t,e,n){this.f=t,this.value=e,this.sink=n}function s(t,e,n){return a(new u(t,e,n.source))}function u(t,e,n){this.source=n,this.f=t,this.value=e}function c(t,e,n){this.f=t,this.value=e,this.sink=n}var h=n(1),p=n(37),a=n(34).withDefaultScheduler,f=n(4),l=n(8);e.scan=r,e.reduce=s,i.prototype.run=function(t,e){var n=e.asap(l.event(this.value,t)),r=this.source.run(new o(this.f,this.value,t),e);return f.all([n,r])},o.prototype.event=function(t,e){var n=this.f;this.value=n(this.value,e),this.sink.event(t,this.value)},o.prototype.error=p.prototype.error,o.prototype.end=p.prototype.end,u.prototype.run=function(t,e){return this.source.run(new c(this.f,this.value,t),e)},c.prototype.event=function(t,e){var n=this.f;this.value=n(this.value,e),this.sink.event(t,this.value)},c.prototype.error=p.prototype.error,c.prototype.end=function(t){this.sink.end(t,this.value)}},function(t,e,n){function r(t,e){return new c(new i(t,e))}function i(t,e){this.f=t,this.value=e}function o(t,e,n,r){function i(t){u.sink.error(u.scheduler.now(),t)}function o(t){return s(t,e)}this.f=t,this.sink=n,this.scheduler=r,this.active=!0;var u=this;Promise.resolve(this).then(o)["catch"](i)}function s(t,e){var n=t.f;return Promise.resolve(n(e)).then(function(e){return u(t,e)})}function u(t,e){return e.done?(t.sink.end(t.scheduler.now(),e.value),e.value):(t.sink.event(t.scheduler.now(),e.value),t.active?s(t,e.seed):e.value)}var c=n(1);e.unfold=r,i.prototype.run=function(t,e){return new o(this.f,this.value,t,e)},o.prototype.dispose=function(){this.active=!1}},function(t,e,n){function r(t,e){return new c(new i(t,e))}function i(t,e){this.f=t,this.value=e}function o(t,e,n,r){function i(t){c.sink.error(c.scheduler.now(),t)}function o(t){return s(t,u)}this.f=t,this.sink=n,this.scheduler=r,this.active=!0;var u=e,c=this;Promise.resolve(this).then(o)["catch"](i)}function s(t,e){if(t.sink.event(t.scheduler.now(),e),!t.active)return e;var n=t.f;return Promise.resolve(n(e)).then(function(e){return u(t,e)})}function u(t,e){return t.active?s(t,e):t.value}var c=n(1);e.iterate=r,i.prototype.run=function(t,e){return new o(this.f,this.value,t,e)},o.prototype.dispose=function(){this.active=!1}},function(t,e,n){function r(t){return new p(new i(t,a.tail(arguments)))}function i(t,e){this.f=t,this.args=e}function o(t,e,n){function r(t){i.sink.error(i.scheduler.now(),t)}this.iterator=t,this.sink=e,this.scheduler=n,this.active=!0;var i=this;Promise.resolve(this).then(s)["catch"](r)}function s(t,e){return t.active?u(t,t.iterator.next(e)):e}function u(t,e){return e.done?t.sink.end(t.scheduler.now(),e.value):Promise.resolve(e.value).then(function(e){return c(t,e)},function(e){return h(t,e)})}function c(t,e){return t.sink.event(t.scheduler.now(),e),s(t,e)}function h(t,e){return u(t,t.iterator["throw"](e))}var p=n(1),a=n(2);e.generate=r,i.prototype.run=function(t,e){return new o(this.f.apply(void 0,this.args),t,e)},o.prototype.dispose=function(){this.active=!1}},function(t,e,n){function r(t,e){return i(o(t),e)}function i(t,e){return s(function(){return e},t)}var o=n(3).of,s=n(46).continueWith;e.concat=i,e.cons=r},function(t,e,n){function r(t,e){return new s(new i(t,e.source))}function i(t,e){this.f=t,this.source=e}function o(t,e,n,r){this.f=t,this.sink=n,this.scheduler=r,this.active=!0,this.disposable=c.once(e.run(this,r))}var s=n(1),u=n(37),c=n(4);n(7).isPromise;e.continueWith=r,i.prototype.run=function(t,e){return new o(this.f,this.source,t,e)},o.prototype.error=u.prototype.error,o.prototype.event=function(t,e){this.active&&this.sink.event(t,e)},o.prototype.end=function(t,e){this.active&&(c.tryDispose(t,this.disposable,this.sink),this._startNext(t,e,this.sink))},o.prototype._startNext=function(t,e,n){try{this.disposable=this._continue(this.f,e,n)}catch(r){n.error(t,r)}},o.prototype._continue=function(t,e,n){return t(e).source.run(n,this.scheduler)},o.prototype.dispose=function(){return this.active=!1,this.disposable.dispose()}},function(t,e,n){function r(t,e){return i(o,t,e)}var i=n(48).combine,o=n(2).apply;e.ap=r},function(t,e,n){function r(t){return i(t,k(arguments))}function i(t,e){var n=e.length;return 0===n?a.empty():1===n?p.map(t,e[0]):new h(o(t,e))}function o(t,e){return new u(t,m(s,e))}function s(t){return t.source}function u(t,e){this.f=t,this.sources=e}function c(t,e,n,r){this.sink=n,this.disposables=t,this.sinks=e,this.f=r;var i=e.length;this.awaiting=i,this.values=new Array(i),this.hasValue=new Array(i);for(var o=0;i>o;++o)this.hasValue[o]=!1;this.activeCount=e.length}var h=n(1),p=n(35),a=n(3),f=n(37),l=n(49),v=n(4),d=n(2),y=n(50),m=d.map,k=d.tail;e.combineArray=i,e.combine=r,u.prototype.run=function(t,e){for(var n,r=this.sources.length,i=new Array(r),o=new Array(r),s=new c(i,o,t,this.f),u=0;r>u;++u)n=o[u]=new l(u,s),i[u]=this.sources[u].run(n,e);return v.all(i)},c.prototype.error=f.prototype.error,c.prototype.event=function(t,e){var n=e.index,r=this._updateReady(n);this.values[n]=e.value,0===r&&this.sink.event(t,y(this.f,this.values))},c.prototype._updateReady=function(t){return this.awaiting>0&&(this.hasValue[t]||(this.hasValue[t]=!0,this.awaiting-=1)),this.awaiting},c.prototype.end=function(t,e){v.tryDispose(t,this.disposables[e.index],this.sink),0===--this.activeCount&&this.sink.end(t,e.value)}},function(t,e,n){function r(t,e){this.sink=e,this.index=t,this.active=!0,this.value=void 0}var i=n(37);t.exports=r,r.prototype.event=function(t,e){this.active&&(this.value=e,this.sink.event(t,this))},r.prototype.end=function(t,e){this.active&&(this.active=!1,this.sink.end(t,{index:this.index,value:e}))},r.prototype.error=i.prototype.error},function(t,e){function n(t,e){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);case 5:return t(e[0],e[1],e[2],e[3],e[4]);default:return t.apply(void 0,e)}}t.exports=n},function(t,e,n){function r(t,e){return new p(new i(t,e.source))}function i(t,e){this.transducer=t,this.source=e}function o(t,e){this.xf=t,this.sink=e}function s(t){this.time=-(1/0),this.sink=t}function u(t){return"function"==typeof t["@@transducer/step"]?new c(t):new h(t)}function c(t){this.tx=t}function h(t){this.tx=t}var p=n(1);e.transduce=r,i.prototype.run=function(t,e){var n=this.transducer(new s(t));return this.source.run(new o(u(n),t),e)},o.prototype.event=function(t,e){var n=this.xf.step(t,e);return this.xf.isReduced(n)?this.sink.end(t,this.xf.getResult(n)):n},o.prototype.end=function(t,e){return this.xf.result(e)},o.prototype.error=function(t,e){return this.sink.error(t,e)},s.prototype["@@transducer/init"]=s.prototype.init=function(){},s.prototype["@@transducer/step"]=s.prototype.step=function(t,e){return isNaN(t)||(this.time=Math.max(t,this.time)),this.sink.event(this.time,e)},s.prototype["@@transducer/result"]=s.prototype.result=function(t){return this.sink.end(this.time,t)},c.prototype.step=function(t,e){return this.tx["@@transducer/step"](t,e)},c.prototype.result=function(t){return this.tx["@@transducer/result"](t)},c.prototype.isReduced=function(t){return null!=t&&t["@@transducer/reduced"]},c.prototype.getResult=function(t){return t["@@transducer/value"]},h.prototype.step=function(t,e){return this.tx.step(t,e)},h.prototype.result=function(t){return this.tx.result(t)},h.prototype.isReduced=function(t){return null!=t&&t.__transducers_reduced__},h.prototype.getResult=function(t){return t.value}},function(t,e,n){function r(t,e){return s(t,1/0,e)}function i(t){return o(1/0,t)}var o=n(53).mergeConcurrently,s=n(53).mergeMapConcurrently;e.flatMap=r,e.join=i},function(t,e,n){function r(t,e){return i(f,t,e)}function i(t,e,n){return new h(new o(t,e,n.source))}function o(t,e,n){this.f=t,this.concurrency=e,this.source=n}function s(t,e,n,r,i){this.f=t,this.concurrency=e,this.sink=r,this.scheduler=i,this.pending=[],this.current=new a,this.disposable=p.once(n.run(this,i)),this.active=!0}function u(t,e,n,r){return t(e).source.run(n,r)}function c(t,e,n){this.prev=this.next=null,this.time=t,this.outer=e,this.sink=n,this.disposable=void 0}var h=n(1),p=n(4),a=n(54),f=n(2).id;e.mergeConcurrently=r,e.mergeMapConcurrently=i,o.prototype.run=function(t,e){return new s(this.f,this.concurrency,this.source,t,e)},s.prototype.event=function(t,e){this._addInner(t,e)},s.prototype._addInner=function(t,e){this.current.length<this.concurrency?this._startInner(t,e):this.pending.push(e)},s.prototype._startInner=function(t,e){try{this._initInner(t,e)}catch(n){this.error(t,n)}},s.prototype._initInner=function(t,e){var n=new c(t,this,this.sink);
n.disposable=u(this.f,e,n,this.scheduler),this.current.add(n)},s.prototype.end=function(t,e){this.active=!1,p.tryDispose(t,this.disposable,this.sink),this._checkEnd(t,e)},s.prototype.error=function(t,e){this.active=!1,this.sink.error(t,e)},s.prototype.dispose=function(){return this.active=!1,this.pending.length=0,Promise.all([this.disposable.dispose(),this.current.dispose()])},s.prototype._endInner=function(t,e,n){this.current.remove(n),p.tryDispose(t,n,this),0===this.pending.length?this._checkEnd(t,e):this._startInner(t,this.pending.shift())},s.prototype._checkEnd=function(t,e){!this.active&&this.current.isEmpty()&&this.sink.end(t,e)},c.prototype.event=function(t,e){this.sink.event(Math.max(t,this.time),e)},c.prototype.end=function(t,e){this.outer._endInner(Math.max(t,this.time),e,this)},c.prototype.error=function(t,e){this.outer.error(Math.max(t,this.time),e)},c.prototype.dispose=function(){return this.disposable.dispose()}},function(t,e){function n(){this.head=null,this.length=0}t.exports=n,n.prototype.add=function(t){null!==this.head&&(this.head.prev=t,t.next=this.head),this.head=t,++this.length},n.prototype.remove=function(t){--this.length,t===this.head&&(this.head=this.head.next),null!==t.next&&(t.next.prev=t.prev,t.next=null),null!==t.prev&&(t.prev.next=t.next,t.prev=null)},n.prototype.isEmpty=function(){return 0===this.length},n.prototype.dispose=function(){if(this.isEmpty())return Promise.resolve();var t=[],e=this.head;for(this.head=null,this.length=0;null!==e;)t.push(e.dispose()),e=e.next;return Promise.all(t)}},function(t,e,n){function r(t,e){return i(t,1,e)}var i=n(53).mergeMapConcurrently;e.concatMap=r},function(t,e,n){function r(){return i(d(arguments))}function i(t){var e=t.length;return 0===e?f():1===e?t[0]:new h(o(t))}function o(t){return new u(y(s,[],t))}function s(t,e){var n=e.source;return n instanceof u?t.concat(n.sources):t.concat(n)}function u(t){this.sources=t}function c(t,e,n){this.sink=n,this.disposables=t,this.activeCount=e.length}var h=n(1),p=n(37),a=n(49),f=n(3).empty,l=n(4),v=n(2),d=v.copy,y=v.reduce;e.merge=r,e.mergeArray=i,u.prototype.run=function(t,e){for(var n,r=this.sources.length,i=new Array(r),o=new Array(r),s=new c(i,o,t),u=0;r>u;++u)n=o[u]=new a(u,s),i[u]=this.sources[u].run(n,e);return l.all(i)},c.prototype.error=p.prototype.error,c.prototype.event=function(t,e){this.sink.event(t,e.value)},c.prototype.end=function(t,e){l.tryDispose(t,this.disposables[e.index],this.sink),0===--this.activeCount&&this.sink.end(t,e.value)}},function(t,e,n){function r(t,e){return o(t,e,d.drop(2,arguments))}function i(t,e){return new f(new u(d.id,t.source,[e.source]))}function o(t,e,n){return new f(new u(t,e.source,d.map(s,n)))}function s(t){return t.source}function u(t,e,n){this.f=t,this.sampler=e,this.sources=n}function c(t){this.sink=t,this.hasValue=!1}function h(t,e,n){this.f=t,this.sinks=e,this.sink=n,this.active=!1}function p(t){return t.hasValue}function a(t){return t.value}var f=n(1),l=n(37),v=n(4),d=n(2),y=n(50);e.sample=r,e.sampleWith=i,e.sampleArray=o,u.prototype.run=function(t,e){for(var n,r=this.sources.length,i=new Array(r+1),o=new Array(r),s=new h(this.f,o,t),u=0;r>u;++u)n=o[u]=new c(s),i[u]=this.sources[u].run(n,e);return i[u]=this.sampler.run(s,e),v.all(i)},c.prototype.event=function(t,e){this.value=e,this.hasValue=!0,this.sink._notify(this)},c.prototype.end=function(){},c.prototype.error=l.prototype.error,h.prototype._notify=function(){this.active||(this.active=this.sinks.every(p))},h.prototype.event=function(t){this.active&&this.sink.event(t,y(this.f,d.map(a,this.sinks)))},h.prototype.end=l.prototype.end,h.prototype.error=l.prototype.error},function(t,e,n){function r(t){return i(t,g(arguments))}function i(t,e){return 0===e.length?v.empty():1===e.length?l.map(t,e[0]):new f(new s(t,_(o,e)))}function o(t){return t.source}function s(t,e){this.f=t,this.sources=e}function u(t,e,n,r){this.f=t,this.sinks=n,this.sink=r,this.buffers=e}function c(t,e,n,r){r.event(e,w(t,_(h,n)))}function h(t){return t.shift()}function p(t,e){for(var n=0,r=t.length;r>n;++n)if(t[n].isEmpty()&&!e[n].active)return!0;return!1}function a(t){for(var e=0,n=t.length;n>e;++e)if(t[e].isEmpty())return!1;return!0}var f=n(1),l=n(35),v=n(3),d=n(37),y=n(49),m=n(4),k=n(2),w=n(50),b=n(59),_=k.map,g=k.tail;e.zip=r,e.zipArray=i,s.prototype.run=function(t,e){for(var n,r=this.sources.length,i=new Array(r),o=new Array(r),s=new Array(r),c=new u(this.f,s,o,t),h=0;r>h;++h)s[h]=new b,n=o[h]=new y(h,c),i[h]=this.sources[h].run(n,e);return m.all(i)},u.prototype.event=function(t,e){var n=this.buffers,r=n[e.index];if(r.push(e.value),1===r.length()){if(!a(this.buffers))return;c(this.f,t,n,this.sink),p(this.buffers,this.sinks)&&this.sink.end(t,void 0)}},u.prototype.end=function(t,e){var n=this.buffers[e.index];n.isEmpty()&&this.sink.end(t,e.value)},u.prototype.error=d.prototype.error},function(t,e){function n(t){this._capacity=t||32,this._length=0,this._head=0}function r(t,e,n,r,i){for(var o=0;i>o;++o)n[o+r]=t[o+e],t[o+e]=void 0}t.exports=n,n.prototype.push=function(t){var e=this._length;this._checkCapacity(e+1);var n=this._head+e&this._capacity-1;this[n]=t,this._length=e+1},n.prototype.shift=function(){var t=this._head,e=this[t];return this[t]=void 0,this._head=t+1&this._capacity-1,this._length--,e},n.prototype.isEmpty=function(){return 0===this._length},n.prototype.length=function(){return this._length},n.prototype._checkCapacity=function(t){this._capacity<t&&this._ensureCapacity(this._capacity<<1)},n.prototype._ensureCapacity=function(t){var e=this._capacity;this._capacity=t;var n=this._head+this._length;n>e&&r(this,0,this,e,n&e-1)}},function(t,e,n){function r(t){return new u(new i(t.source))}function i(t){this.source=t}function o(t,e){this.sink=t,this.scheduler=e,this.current=null,this.ended=!1}function s(t,e,n,r){this.min=t,this.max=e,this.outer=n,this.sink=r,this.disposable=c.empty()}var u=n(1),c=n(4);e["switch"]=r,i.prototype.run=function(t,e){var n=new o(t,e);return c.all(n,this.source.run(n,e))},o.prototype.event=function(t,e){this._disposeCurrent(t),this.current=new s(t,1/0,this,this.sink),this.current.disposable=e.source.run(this.current,this.scheduler)},o.prototype.end=function(t,e){this.ended=!0,this._checkEnd(t,e)},o.prototype.error=function(t,e){this.ended=!0,this.sink.error(t,e)},o.prototype.dispose=function(){return this._disposeCurrent(0)},o.prototype._disposeCurrent=function(t){return null!==this.current?this.current._dispose(t):void 0},o.prototype._disposeInner=function(t,e){e._dispose(t),e===this.current&&(this.current=null)},o.prototype._checkEnd=function(t,e){this.ended&&null===this.current&&this.sink.end(t,e)},o.prototype._endInner=function(t,e,n){this._disposeInner(t,n),this._checkEnd(t,e)},o.prototype._errorInner=function(t,e,n){this._disposeInner(t,n),this.sink.error(t,e)},s.prototype.event=function(t,e){t<this.max&&this.sink.event(Math.max(t,this.min),e)},s.prototype.end=function(t,e){this.outer._endInner(Math.max(t,this.min),e,this)},s.prototype.error=function(t,e){this.outer._errorInner(Math.max(t,this.min),e,this)},s.prototype._dispose=function(t){this.max=t,c.tryDispose(t,this.disposable,this.sink)}},function(t,e,n){function r(t,e){return new h(a.create(t,e.source))}function i(t){return o(c,t)}function o(t,e){return new h(new s(t,e.source))}function s(t,e){this.equals=t,this.source=e}function u(t,e){this.equals=t,this.sink=e,this.value=void 0,this.init=!0}function c(t,e){return t===e}var h=n(1),p=n(37),a=n(38);e.filter=r,e.skipRepeats=i,e.skipRepeatsWith=o,s.prototype.run=function(t,e){return this.source.run(new u(this.equals,t),e)},u.prototype.end=p.prototype.end,u.prototype.error=p.prototype.error,u.prototype.event=function(t,e){this.init?(this.init=!1,this.value=e,this.sink.event(t,e)):this.equals(this.value,e)||(this.value=e,this.sink.event(t,e))}},function(t,e,n){function r(t,e){return o(0,t,e)}function i(t,e){return o(t,1/0,e)}function o(t,e,n){return t>=e?w.empty():new m(s(t,e,n.source))}function s(t,e,n){return n instanceof _?u(t,e,n):n instanceof h?c(t,e,n):new h(t,e,n)}function u(t,e,n){return _.create(n.f,s(t,e,n.source))}function c(t,e,n){return t+=n.min,e=Math.min(e+n.min,n.max),new h(t,e,n.source)}function h(t,e,n){this.source=n,this.min=t,this.max=e}function p(t,e,n,r,i){this.sink=r,this.skip=t,this.take=e,this.disposable=b.once(n.run(this,i))}function a(t,e){return new m(new f(t,e.source))}function f(t,e){this.p=t,this.source=e}function l(t,e,n,r){this.p=t,this.sink=n,this.active=!0,this.disposable=b.once(e.run(this,r))}function v(t,e){return new m(new d(t,e.source))}function d(t,e){this.p=t,this.source=e}function y(t,e){this.p=t,this.sink=e,this.skipping=!0}var m=n(1),k=n(37),w=n(3),b=n(4),_=n(36);e.take=r,e.skip=i,e.slice=o,e.takeWhile=a,e.skipWhile=v,h.prototype.run=function(t,e){return new p(this.min,this.max-this.min,this.source,t,e)},p.prototype.end=k.prototype.end,p.prototype.error=k.prototype.error,p.prototype.event=function(t,e){return this.skip>0?void(this.skip-=1):void(0!==this.take&&(this.take-=1,this.sink.event(t,e),0===this.take&&(this.dispose(),this.sink.end(t,e))))},p.prototype.dispose=function(){return this.disposable.dispose()},f.prototype.run=function(t,e){return new l(this.p,this.source,t,e)},l.prototype.end=k.prototype.end,l.prototype.error=k.prototype.error,l.prototype.event=function(t,e){if(this.active){var n=this.p;this.active=n(e),this.active?this.sink.event(t,e):(this.dispose(),this.sink.end(t,e))}},l.prototype.dispose=function(){return this.disposable.dispose()},d.prototype.run=function(t,e){return this.source.run(new y(this.p,t),e)},y.prototype.end=k.prototype.end,y.prototype.error=k.prototype.error,y.prototype.event=function(t,e){if(this.skipping){var n=this.p;if(this.skipping=n(e),this.skipping)return}this.sink.event(t,e)}},function(t,e,n){function r(t,e){return new l(new s(t.source,e.source))}function i(t,e){return new l(new u(t.source,e.source))}function o(t,e){return r(y(t),i(t,e))}function s(t,e){this.maxSignal=t,this.source=e}function u(t,e){this.minSignal=t,this.source=e}function c(t,e){this.value=t,this.sink=e}function h(t,e,n){this.min=t,this.max=e,this.sink=n}function p(t,e,n){this.value=1/0,this.sink=e,this.disposable=t.run(this,n)}function a(t,e,n){this.value=1/0,this.sink=e,this.disposable=t.run(this,n)}function f(){}var l=n(1),v=n(37),d=n(4),y=n(52).join;e.during=o,e.takeUntil=r,e.skipUntil=i,s.prototype.run=function(t,e){var n=new c(-(1/0),t),r=new a(this.maxSignal,t,e),i=this.source.run(new h(n,r,t),e);return d.all([n,r,i])},u.prototype.run=function(t,e){var n=new p(this.minSignal,t,e),r=new c(1/0,t),i=this.source.run(new h(n,r,t),e);return d.all([n,r,i])},c.prototype.error=v.prototype.error,c.prototype.event=f,c.prototype.end=f,c.prototype.dispose=f,h.prototype.event=function(t,e){t>=this.min.value&&t<this.max.value&&this.sink.event(t,e)},h.prototype.error=v.prototype.error,h.prototype.end=v.prototype.end,p.prototype.event=function(t){t<this.value&&(this.value=t)},p.prototype.end=f,p.prototype.error=v.prototype.error,p.prototype.dispose=function(){return this.disposable.dispose()},a.prototype.event=function(t,e){t<this.value&&(this.value=t,this.sink.end(t,e))},a.prototype.end=f,a.prototype.error=v.prototype.error,a.prototype.dispose=function(){return this.disposable.dispose()}},function(t,e,n){function r(t,e){return 0>=t?e:new s(new i(t,e.source))}function i(t,e){this.dt=t,this.source=e}function o(t,e,n){this.dt=t,this.sink=e,this.scheduler=n}var s=n(1),u=n(37),c=n(4),h=n(8);e.delay=r,i.prototype.run=function(t,e){var n=new o(this.dt,t,e);return c.all([n,this.source.run(n,e)])},o.prototype.dispose=function(){var t=this;this.scheduler.cancelAll(function(e){return e.sink===t.sink})},o.prototype.event=function(t,e){this.scheduler.delay(this.dt,h.event(e,this.sink))},o.prototype.end=function(t,e){this.scheduler.delay(this.dt,h.end(e,this.sink))},o.prototype.error=u.prototype.error},function(t,e,n){function r(t){return new s(new i(t.source))}function i(t){this.source=t}function o(t){this.sink=t}var s=n(1),u=n(37);e.timestamp=r,i.prototype.run=function(t,e){return this.source.run(new o(t),e)},o.prototype.end=u.prototype.end,o.prototype.error=u.prototype.error,o.prototype.event=function(t,e){this.sink.event(t,{time:t,value:e})}},function(t,e,n){function r(t,e){return new f(i(t,e.source))}function i(t,e){return e instanceof y?o(t,e):e instanceof u?s(t,e):new u(t,e)}function o(t,e){return y.create(e.f,i(t,e.source))}function s(t,e){return new u(Math.max(t,e.period),e.source)}function u(t,e){this.period=t,this.source=e}function c(t,e){this.time=0,this.period=t,this.sink=e}function h(t,e){return new f(new p(t,e.source))}function p(t,e){this.dt=t,this.source=e}function a(t,e,n,r){this.dt=t,this.sink=n,this.scheduler=r,this.value=void 0,this.timer=null;var i=e.run(this,r);this.disposable=v.all([this,i])}var f=n(1),l=n(37),v=n(4),d=n(8),y=n(36);e.throttle=r,e.debounce=h,u.prototype.run=function(t,e){return this.source.run(new c(this.period,t),e)},c.prototype.event=function(t,e){t>=this.time&&(this.time=t+this.period,this.sink.event(t,e))},c.prototype.end=l.prototype.end,c.prototype.error=l.prototype.error,p.prototype.run=function(t,e){return new a(this.dt,this.source,t,e)},a.prototype.event=function(t,e){this._clearTimer(),this.value=e,this.timer=this.scheduler.delay(this.dt,d.event(e,this.sink))},a.prototype.end=function(t,e){this._clearTimer()&&(this.sink.event(t,this.value),this.value=void 0),this.sink.end(t,e)},a.prototype.error=function(t,e){this._clearTimer(),this.sink.error(t,e)},a.prototype.dispose=function(){this._clearTimer()},a.prototype._clearTimer=function(){return null===this.timer?!1:(this.timer.dispose(),this.timer=null,!0)}},function(t,e,n){function r(t){return i(h(t))}function i(t){return new u(new o(t.source))}function o(t){this.source=t}function s(t,e){this.sink=t,this.scheduler=e,this.queue=Promise.resolve();var n=this;this._eventBound=function(t){n.sink.event(n.scheduler.now(),t)},this._endBound=function(t){n.sink.end(n.scheduler.now(),t)},this._errorBound=function(t){n.sink.error(n.scheduler.now(),t)}}var u=n(1),c=n(9),h=n(3).of;e.fromPromise=r,e.awaitPromises=i,o.prototype.run=function(t,e){return this.source.run(new s(t,e),e)},s.prototype.event=function(t,e){var n=this;this.queue=this.queue.then(function(){return n._event(e)})["catch"](this._errorBound)},s.prototype.end=function(t,e){var n=this;this.queue=this.queue.then(function(){return n._end(e)})["catch"](this._errorBound)},s.prototype.error=function(t,e){var n=this;this.queue=this.queue.then(function(){return n._errorBound(e)})["catch"](c)},s.prototype._event=function(t){return t.then(this._eventBound)},s.prototype._end=function(t){return Promise.resolve(t).then(this._endBound)}},function(t,e,n){function r(t,e){return new h(new u(t,e.source))}function i(t){return new h(new o(t))}function o(t){this.value=t}function s(t,e,n){n.error(t,e)}function u(t,e){this.f=t,this.source=e}function c(t,e,n,r){this.f=t,this.sink=new p(n),this.scheduler=r,this.disposable=e.run(this,r)}var h=n(1),p=n(69),a=(n(37),n(4)),f=n(30),l=(n(7).isPromise,n(8));e.flatMapError=r,e.recoverWith=r,e.throwError=i,o.prototype.run=function(t,e){return e.asap(new l(s,this.value,t))},u.prototype.run=function(t,e){return new c(this.f,this.source,t,e)},c.prototype.event=function(t,e){f.tryEvent(t,e,this.sink)},c.prototype.end=function(t,e){f.tryEnd(t,e,this.sink)},c.prototype.error=function(t,e){var n=this.sink.disable();a.tryDispose(t,this.disposable,this.sink),this._startNext(t,e,n)},c.prototype._startNext=function(t,e,n){try{this.disposable=this._continue(this.f,e,n)}catch(r){n.error(t,r)}},c.prototype._continue=function(t,e,n){var r=t(e);return r.source.run(n,this.scheduler)},c.prototype.dispose=function(){return this.disposable.dispose()}},function(t,e){function n(t){this.sink=t,this.active=!0}t.exports=n,n.prototype.event=function(t,e){this.active&&this.sink.event(t,e)},n.prototype.end=function(t,e){this.active&&(this.disable(),this.sink.end(t,e))},n.prototype.error=function(t,e){this.disable(),this.sink.error(t,e)},n.prototype.disable=function(){return this.active=!1,this.sink}},function(t,e,n){var r,i,o;!function(s,u){i=[e,n(2)],r=u,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o))}(this,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e,n){try{n.event(t,e)}catch(r){n.error(t,r)}}function i(t,e,n){try{n.end(t,e)}catch(r){n.error(t,r)}}function o(t){var e=t.source;return e instanceof p?t:new t.constructor(new p(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.MulticastSource=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){function t(e,r){n(this,t),this.source=e,this.sink=r,this.disposed=!1}return s(t,[{key:"dispose",value:function(){if(!this.disposed){this.disposed=!0;var t=this.source.remove(this.sink);return 0===t&&this.source._dispose()}}}]),t}(),c=function(t){return t.dispose()},h={dispose:function(){}},p=function(){function t(e){n(this,t),this.source=e,this.sinks=[],this._disposable=h}return s(t,[{key:"run",value:function(t,e){var n=this.add(t);return 1===n&&(this._disposable=this.source.run(this,e)),new u(this,t)}},{key:"_dispose",value:function(){var t=this._disposable;return this._disposable=h,Promise.resolve(t).then(c)}},{key:"add",value:function(t){return this.sinks=(0,e.append)(t,this.sinks),this.sinks.length}},{key:"remove",value:function(t){var n=(0,e.findIndex)(t,this.sinks);return n>=0&&(this.sinks=(0,e.remove)(n,this.sinks)),this.sinks.length}},{key:"event",value:function(t,e){var n=this.sinks;if(1===n.length)return n[0].event(t,e);for(var i=0;i<n.length;++i)r(t,e,n[i])}},{key:"end",value:function(t,e){for(var n=this.sinks,r=0;r<n.length;++r)i(t,e,n[r])}},{key:"error",value:function(t,e){for(var n=this.sinks,r=0;r<n.length;++r)n[r].error(t,e)}}]),t}();t.MulticastSource=p,t["default"]=o})}])});